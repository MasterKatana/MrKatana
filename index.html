<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MrKatana</title>
<style>
:root{
  --bg:#e6e6e6;--text:#000;--line:rgba(0,0,0,.06);
  --accent:#ff4d4d;
}
body.dark{
  --bg:#0f0f0f;--text:#fff;--line:rgba(255,255,255,.06);
}
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
  margin:0;min-height:100vh;
  background:var(--bg);color:var(--text);
  display:flex;justify-content:center;align-items:center;
  overflow:hidden;transition:.4s;
  position:relative;
  perspective:1000px;
}
body::before{
  content:"";position:absolute;inset:0;
  background:repeating-linear-gradient(90deg,var(--line),var(--line) 1px,transparent 1px,transparent 80px);
  animation:move 10s linear infinite;
}
@keyframes move{from{background-position:0 0}to{background-position:200px 0}}
.container{text-align:center;z-index:1;transform-style:preserve-3d;animation:fadeUp 1s ease forwards}
@keyframes fadeUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}
.avatar{width:140px;height:140px;border-radius:50%;border:3px solid var(--text);object-fit:cover;margin-bottom:20px;box-shadow:0 0 15px rgba(0,0,0,.2)}
h1{margin:0;font-size:56px;}
.type{border-right:3px solid var(--accent);white-space:nowrap;overflow:hidden;display:inline-block;animation:typing 4s steps(25) infinite alternate,blink .8s step-end infinite;}
@keyframes typing{from{width:0}to{width:100%}}
@keyframes blink{50%{border-color:transparent}}
.subtitle{margin:10px 0 28px;font-size:15px;opacity:.7}
.buttons{display:flex;gap:14px;justify-content:center}
.buttons a{padding:14px 34px;border:2px solid var(--text);border-radius:16px;color:var(--text);text-decoration:none;transition:.3s;display:flex;align-items:center;gap:8px;position:relative;overflow:hidden}
.buttons a::after{content:"";position:absolute;inset:0;background:var(--text);opacity:0;transition:.3s}
.buttons a:hover{color:var(--bg);transform:translateY(-2px)}
.buttons a:hover::after{opacity:.1}
.live-dot{width:10px;height:10px;background:#ff4d4d;border-radius:50%;animation:pulse 1.4s infinite}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,77,77,.6)}70%{box-shadow:0 0 0 8px rgba(255,77,77,0)}100%{box-shadow:0 0 0 0 rgba(255,77,77,0)}}
.toggle,.donate,.friends-btn{
  position:fixed;padding:10px 16px;border:2px solid var(--text);background:none;
  color:var(--text);border-radius:14px;cursor:pointer;z-index:5;transition:.3s
}
.toggle:hover,.donate:hover,.friends-btn:hover{background:var(--text);color:var(--bg);}
.toggle{bottom:20px;right:20px}
.donate{top:20px;right:20px;text-decoration:none}
.friends-btn{top:20px;left:20px}
.audio{position:fixed;bottom:20px;left:20px;padding:10px 14px;border:2px solid var(--text);border-radius:14px;display:flex;gap:10px;align-items:center;}
.audio button{border:none;background:none;font-size:18px;cursor:pointer;color:var(--text);transition:.3s;}
.audio button.playing{color:var(--accent);animation:bounce 1s infinite;}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}

/* FRIENDS PANEL */
.friends-panel{position:fixed;inset:0;background:rgba(0,0,0,.4);backdrop-filter:blur(6px);display:none;justify-content:center;align-items:center;z-index:10;}
.friends-box{background:var(--bg);border:2px solid var(--text);border-radius:24px;padding:28px;width:360px;text-align:center;animation:pop .6s ease}
@keyframes pop{from{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}
.friends-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px;margin:20px 0}
.friend{text-decoration:none;color:var(--text);display:flex;flex-direction:column;align-items:center;gap:6px;}
.friend img{width:70px;height:70px;border-radius:50%;border:2px solid var(--text);object-fit:cover;transition:.3s}
.friend:hover img{transform:scale(1.12)}
.close{padding:8px 22px;border-radius:14px;border:2px solid var(--text);background:none;color:var(--text);cursor:pointer}
.toast{position:fixed;bottom:80px;right:20px;background:var(--text);color:var(--bg);padding:10px 18px;border-radius:8px;opacity:0;transform:translateY(20px);transition:.4s;z-index:20;}
.toast.show{opacity:1;transform:translateY(0)}
</style>
</head>
<body>
<div class="container">
  <img src="assets/avatar.png" class="avatar">
  <h1><span class="type">MrKatana</span></h1>
  <div class="subtitle">Streamer â€¢ YouTuber â€¢ Aparater</div>
  <div class="buttons">
    <a href="https://www.aparat.com/MasterKatana" target="_blank">Aparat</a>
    <a href="https://www.aparat.com/MasterKatana/live" target="_blank">Live <span class="live-dot"></span></a>
    <a href="https://www.youtube.com/@Master_katana" target="_blank">YouTube</a>
  </div>
</div>

<button class="toggle" onclick="toggleTheme()">ðŸŒ“</button>
<a class="donate" href="https://www.coffeebede.com/masterkatana" target="_blank">Donate</a>
<button class="friends-btn" onclick="toggleFriends()">Friends</button>

<audio id="music" autoplay loop>
  <source src="lofi.mp3" type="audio/mpeg">
</audio>

<div class="audio">
  <button id="music-btn" onclick="toggleMusic()">â–¶</button>
  <input type="range" min="0" max="100" id="volume">
</div>

<div class="friends-panel" id="friends">
  <div class="friends-box">
    <h2>My Friends</h2>
      <div class="friends-grid">
        <a class="friend"><img src="friends/huntermoon.jpg"><span>HunterMoon</span></a>
        <a class="friend"><img src="friends/badcombo.jpg"><span>Itz_badcombo</span></a>
        <a class="friend"><img src="friends/treyderi.jpg"><span>Treyderi</span></a>
        <a class="friend"><img src="friends/witeice.jpg"><span>Witeice</span></a>
      </div>
    <button class="close" onclick="toggleFriends()">Close</button>
  </div>
</div>
<div class="toast" id="toast"></div>

<script>
const music=document.getElementById("music");
const volume=document.getElementById("volume");
const musicBtn=document.getElementById("music-btn");
const toast=document.getElementById("toast");

function showToast(msg){
  toast.textContent=msg;
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),2200);
}

function toggleTheme(){
  document.body.classList.toggle("dark");
  localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light");
  showToast(document.body.classList.contains("dark")?"Dark Mode ðŸŒ‘":"Light Mode â˜€ï¸");
}

(function restoreTheme(){
  const saved=localStorage.getItem("theme");
  if(saved==="dark")document.body.classList.add("dark");
})();

volume.value=localStorage.getItem("vol")||30;
music.volume=volume.value/100;
volume.oninput=()=>{
  music.volume=volume.value/100;
  localStorage.setItem("vol",volume.value);
};
function toggleMusic(){
  if(music.paused){music.play();musicBtn.classList.add("playing");musicBtn.textContent="â¸";showToast("Music â–¶ï¸");}
  else{music.pause();musicBtn.classList.remove("playing");musicBtn.textContent="â–¶";showToast("Paused â¸");}
}
function toggleFriends(){
  const f=document.getElementById("friends");
  f.style.display=f.style.display==="flex"?"none":"flex";
}
document.addEventListener("mousemove",e=>{
  const x=(window.innerWidth/2 - e.pageX)/60;
  const y=(window.innerHeight/2 - e.pageY)/60;
  document.querySelector(".container").style.transform=`rotateY(${x}deg) rotateX(${y}deg)`;
});
</script>
</body>
</html>
